import React from "react";
import {
  Stack,
  Tab,
  TabContext,
  TabList,
  TabPanel,
  Typography,
} from "../../../../../components";
import CodeBlock from "../../../../../lib/ReactSyntaxHighlighter";
import { useState } from "react";
import CustPaper from "../../../../../components/Generic Components/CustPaper/CustPaper";
import DashedPaper from "../../../../../components/Generic Components/CustPaper/DashedPaper";

const ToggleButtons = ({ item }) => {
  const [value, setValue] = useState(item.first_value);

  const handleChange = (event, newValue) => {
    setValue(newValue);
  };

  return (
    <CustPaper>
      <TabContext value={value}>
        <Typography variant="h4" sx={{ marginBottom: 3 }}>
          {item.name}
        </Typography>
        <TabList onChange={handleChange} aria-label="lab API tabs example">
          <Tab label="Preview" value={item.first_value} />
          <Tab label="JSX" value={item.second_value} />
        </TabList>

        <TabPanel value={item.first_value}>
          <DashedPaper>
            <Stack
              direction="row"
              spacing={2}
              sx={{ flexWrap: "wrap", justifyContent: "center" }}
            >
              {React.createElement(item.component)}
            </Stack>
          </DashedPaper>
        </TabPanel>
        <TabPanel value={item.second_value}>
          <CodeBlock code={item.exampleComponent} language={"jsx"} />
        </TabPanel>
      </TabContext>
    </CustPaper>
  );
};

export default ToggleButtons;
